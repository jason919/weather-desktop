import{u as y,W as v,L as b,_ as W,d as C,a as D}from"./WeatherUtils-Dl6ec87V.js";import{d as I,c as L,P as k,o as l,a as N,w as A,u as t,e as u,b as e,f as V,g as m,t as r,I as q,a1 as B,n as f,h as F,W as S,p as $,i as T}from"./index-CGKFotPI.js";import{b as Y,L as j,c as E}from"./GeoApi-DP3kH_5D.js";class M{static getForecastDayText(a){return a==0?"今天":a==1?"明天":"后天"}}class g{static async get(a,n=j){return(await Y.get(`https://widget-api.qweather.net/s6/plugin/view?key=68d458440fb9405d80a45973018cf1a2&location=CN${a}&lang=${n}`)).data}static getAQIClass(a){return a<=50?"city-weather-aqi-1":a<=100?"city-weather-aqi-2":a<=150?"city-weather-aqi-3":a<=200?"city-weather-aqi-4":a<=300?"city-weather-aqi-5":"city-weather-aqi-6"}}const Q=o=>($("data-v-279b9322"),o=o(),T(),o),U={class:"flex flex-col weather-bg relative gap-2 h-full"},G={class:"flex p-2"},H={class:"ml-auto text-right leading-6"},P=Q(()=>e("br",null,null,-1)),z={class:"flex flex-col p-2 w-full items-center gap-2 flex-1"},O={class:"flex items-center"},J=["src"],K={class:"current-live__item"},R={class:"text-2xl"},X={class:"current-basic flex justify-around justify-center items-center mt-auto mx-4 my-4"},Z={class:"font-bold"},ee=["src"],te=I({__name:"WeatherLargeWidgetView",setup(o){function a(){return g.get(p.value.id)}const{errorMsg:n,responseData:s,now:_,selectLocation:p,update:w}=y(a),x=L(()=>{var i;return v.getBackgroundClass(Number.parseInt(((i=s.value)==null?void 0:i.now.cond_code)??"100"))});return k(S,{onDataLoaded(){w()}}),E(()=>{_.value=C()},60*1e3),(i,ae)=>(l(),N(W,{"error-msg":t(n)},{default:A(()=>{var h;return[t(s)?(l(),u("div",{key:0,class:f(["root theme--light",{[x.value]:!0}])},[e("div",U,[e("div",G,[e("p",null,[V(t(b)),m(" "+r(t(p).name),1)]),e("p",H,[m(r(t(_).format("YYYY-MM-DD HH:mm"))+" ",1),P])]),e("div",z,[e("div",O,[e("img",{width:"80px",src:`/weather/image/${(h=t(s))==null?void 0:h.now.cond_code}.png`,alt:"QWeather"},null,8,J),e("div",K,[e("p",R,r(t(s).now.tmp)+"° ",1),e("p",null,r(t(s).now.cond_txt),1)])]),e("p",null,r(t(s).rain.txt),1)]),e("div",X,[(l(!0),u(q,null,B(t(s).daily_forecast,(d,c)=>(l(),u("div",{key:c,class:"flex flex-col gap-2 items-center"},[e("p",Z,r(t(M).getForecastDayText(c)),1),e("img",{width:"24px",src:`/weather/image/${d.cond_code_d}.png`,alt:""},null,8,ee),e("p",null,r(d.tmp_min)+"/"+r(d.tmp_max)+"°",1),e("p",{class:f({[t(g).getAQIClass(Number.parseInt(t(s).air_forecast[c].aqi))]:!0})},r(t(s).air_forecast[c].qlty),3)]))),128))])])],2)):F("",!0)]}),_:1},8,["error-msg"]))}}),ce=D(te,[["__scopeId","data-v-279b9322"]]);export{ce as default};
