import{r as S,q as U,v as O,D as j,j as Q,E as P,aa as X,m as B,ag as Y,ah as Z,s as k,a as D}from"./index-C5xgUEBy.js";function N(e){return Y()?(Z(e),!0):!1}function A(e){return typeof e=="function"?e():Q(e)}const C=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ee=Object.prototype.toString,te=e=>ee.call(e)==="[object Object]",T=()=>{};function I(e,t){function n(...r){return new Promise((u,i)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(u).catch(i)})}return n}const H=e=>e();function ne(e,t={}){let n,r,u=T;const i=a=>{clearTimeout(a),u(),u=T};return a=>{const p=A(e),f=A(t.maxWait);return n&&i(n),p<=0||f!==void 0&&f<=0?(r&&(i(r),r=null),Promise.resolve(a())):new Promise((c,o)=>{u=t.rejectOnCancel?o:c,f&&!r&&(r=setTimeout(()=>{n&&i(n),r=null,c(a())},f)),n=setTimeout(()=>{r&&i(r),r=null,c(a())},p)})}}function re(e=H){const t=S(!0);function n(){t.value=!1}function r(){t.value=!0}const u=(...i)=>{t.value&&e(...i)};return{isActive:X(t),pause:n,resume:r,eventFilter:u}}function oe(e){return e||B()}function we(e,t=200,n={}){return I(ne(t,n),e)}function ie(e,t,n={}){const{eventFilter:r=H,...u}=n;return O(e,I(r,t),u)}function se(e,t,n={}){const{eventFilter:r,...u}=n,{eventFilter:i,pause:l,resume:a,isActive:p}=re(r);return{stop:ie(e,t,{...u,eventFilter:i}),pause:l,resume:a,isActive:p}}function L(e,t=!0,n){oe()?P(e,n):t?e():j(e)}function ve(e,t=1e3,n={}){const{immediate:r=!0,immediateCallback:u=!1}=n;let i=null;const l=S(!1);function a(){i&&(clearInterval(i),i=null)}function p(){l.value=!1,a()}function f(){const c=A(t);c<=0||(l.value=!0,u&&e(),a(),i=setInterval(e,c))}if(r&&C&&f(),U(t)||typeof t=="function"){const c=O(t,()=>{l.value&&C&&f()});N(c)}return N(p),{isActive:l,pause:p,resume:f}}function be(e,t,n){const r=O(e,(...u)=>(j(()=>r()),t(...u)),n);return r}function g(e){var t;const n=A(e);return(t=n==null?void 0:n.$el)!=null?t:n}const x=C?window:void 0;function V(...e){let t,n,r,u;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,u]=e,t=x):[t,n,r,u]=e,!t)return T;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],l=()=>{i.forEach(c=>c()),i.length=0},a=(c,o,d,h)=>(c.addEventListener(o,d,h),()=>c.removeEventListener(o,d,h)),p=O(()=>[g(t),A(u)],([c,o])=>{if(l(),!c)return;const d=te(o)?{...o}:o;i.push(...n.flatMap(h=>r.map(w=>a(c,h,w,d))))},{immediate:!0,flush:"post"}),f=()=>{p(),l()};return N(f),f}function ue(){const e=S(!1),t=B();return t&&P(()=>{e.value=!0},t),e}function ae(e){const t=ue();return D(()=>(t.value,!!e()))}const _=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},E="__vueuse_ssr_handlers__",ce=le();function le(){return E in _||(_[E]=_[E]||{}),_[E]}function fe(e,t){return ce[e]||t}function de(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const pe={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},J="vueuse-storage";function ye(e,t,n,r={}){var u;const{flush:i="pre",deep:l=!0,listenToStorageChanges:a=!0,writeDefaults:p=!0,mergeDefaults:f=!1,shallow:c,window:o=x,eventFilter:d,onError:h=s=>{console.error(s)},initOnMounted:w}=r,v=(c?k:S)(typeof t=="function"?t():t);if(!n)try{n=fe("getDefaultStorage",()=>{var s;return(s=x)==null?void 0:s.localStorage})()}catch(s){h(s)}if(!n)return v;const y=A(t),R=de(y),F=(u=r.serializer)!=null?u:pe[R],{pause:G,resume:z}=se(v,()=>$(v.value),{flush:i,deep:l,eventFilter:d});o&&a&&L(()=>{V(o,"storage",W),V(o,J,K),w&&W()}),w||W();function M(s,m){o&&o.dispatchEvent(new CustomEvent(J,{detail:{key:e,oldValue:s,newValue:m,storageArea:n}}))}function $(s){try{const m=n.getItem(e);if(s==null)M(m,null),n.removeItem(e);else{const b=F.write(s);m!==b&&(n.setItem(e,b),M(m,b))}}catch(m){h(m)}}function q(s){const m=s?s.newValue:n.getItem(e);if(m==null)return p&&y!=null&&n.setItem(e,F.write(y)),y;if(!s&&f){const b=F.read(m);return typeof f=="function"?f(b,y):R==="object"&&!Array.isArray(b)?{...y,...b}:b}else return typeof m!="string"?m:F.read(m)}function W(s){if(!(s&&s.storageArea!==n)){if(s&&s.key==null){v.value=y;return}if(!(s&&s.key!==e)){G();try{(s==null?void 0:s.newValue)!==F.write(v.value)&&(v.value=q(s))}catch(m){h(m)}finally{s?j(z):z()}}}}function K(s){W(s.detail)}return v}function me(e,t,n={}){const{window:r=x,...u}=n;let i;const l=ae(()=>r&&"ResizeObserver"in r),a=()=>{i&&(i.disconnect(),i=void 0)},p=D(()=>Array.isArray(e)?e.map(o=>g(o)):[g(e)]),f=O(p,o=>{if(a(),l.value&&r){i=new ResizeObserver(t);for(const d of o)d&&i.observe(d,u)}},{immediate:!0,flush:"post"}),c=()=>{a(),f()};return N(c),{isSupported:l,stop:c}}function ge(e,t={width:0,height:0},n={}){const{window:r=x,box:u="content-box"}=n,i=D(()=>{var o,d;return(d=(o=g(e))==null?void 0:o.namespaceURI)==null?void 0:d.includes("svg")}),l=S(t.width),a=S(t.height),{stop:p}=me(e,([o])=>{const d=u==="border-box"?o.borderBoxSize:u==="content-box"?o.contentBoxSize:o.devicePixelContentBoxSize;if(r&&i.value){const h=g(e);if(h){const w=r.getComputedStyle(h);l.value=Number.parseFloat(w.width),a.value=Number.parseFloat(w.height)}}else if(d){const h=Array.isArray(d)?d:[d];l.value=h.reduce((w,{inlineSize:v})=>w+v,0),a.value=h.reduce((w,{blockSize:v})=>w+v,0)}else l.value=o.contentRect.width,a.value=o.contentRect.height},n);L(()=>{const o=g(e);o&&(l.value="offsetWidth"in o?o.offsetWidth:t.width,a.value="offsetHeight"in o?o.offsetHeight:t.height)});const f=O(()=>g(e),o=>{l.value=o?t.width:0,a.value=o?t.height:0});function c(){p(),f()}return{width:l,height:a,stop:c}}export{ve as a,we as b,ge as c,ye as u,be as w};
