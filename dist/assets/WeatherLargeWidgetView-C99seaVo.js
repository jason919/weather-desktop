import{u as v,W as y,L as b,a as m,_ as W,d as k,b as D}from"./WidgetWeatherApi-Da_jlyH0.js";import{d as I,c as C,q as L,o as l,a as N,w as V,u as t,e as d,b as e,f as B,g as f,t as a,J as F,a1 as S,n as h,h as T,W as j,p as q,i as Y}from"./index-U4clKJkw.js";import{b as A}from"./GeoApi-C9FCh2v_.js";class M{static getForecastDayText(o){return o==0?"今天":o==1?"明天":"后天"}}const $=r=>(q("data-v-bea230de"),r=r(),Y(),r),H={class:"flex flex-col weather-bg relative h-full"},Q={class:"flex px-2 py-1 items-center"},U={class:"ml-auto text-right leading-6"},z=$(()=>e("br",null,null,-1)),E={class:"flex flex-col w-full items-center justify-center gap-1 flex-1 mb-1"},J={class:"flex items-center"},G=["src"],K={class:"current-live__item"},O={class:"text-2xl"},P={class:"current-basic flex justify-around justify-center items-center mt-auto mx-4 my-4"},R={class:"font-bold"},X=["src"],Z=I({__name:"WeatherLargeWidgetView",setup(r){function o(){return m.get(u.value.id)}const{errorMsg:g,responseData:s,now:_,selectLocation:u,update:x}=v(o),w=C(()=>{var n;return y.getBackgroundClass(Number.parseInt(((n=s.value)==null?void 0:n.now.cond_code)??"100"))});return L(j,{onDataLoaded(){x()}}),A(()=>{_.value=k()},60*1e3),(n,ee)=>(l(),N(W,{"check-api-key":!1,"error-msg":t(g)},{default:V(()=>{var p;return[t(s)?(l(),d("div",{key:0,class:h(["root theme--light",{[w.value]:!0}])},[e("div",H,[e("div",Q,[e("p",null,[B(t(b)),f(" "+a(t(u).name),1)]),e("p",U,[f(a(t(_).format("YYYY-MM-DD HH:mm"))+" ",1),z])]),e("div",E,[e("div",J,[e("img",{width:"70rem",src:`/weather/image/${(p=t(s))==null?void 0:p.now.cond_code}.png`,alt:"QWeather"},null,8,G),e("div",K,[e("p",O,a(t(s).now.tmp)+"° ",1),e("p",null,a(t(s).now.cond_txt),1)])]),e("p",null,a(t(s).rain.txt),1)]),e("div",P,[(l(!0),d(F,null,S(t(s).daily_forecast,(i,c)=>(l(),d("div",{key:c,class:"flex flex-col gap-1 items-center"},[e("p",R,a(t(M).getForecastDayText(c)),1),e("img",{width:"24px",src:`/weather/image/${i.cond_code_d}.png`,alt:""},null,8,X),e("p",null,a(i.tmp_min)+"/"+a(i.tmp_max)+"°",1),e("p",{class:h({[t(m).getAQIClass(Number.parseInt(t(s).air_forecast[c].aqi))]:!0})},a(t(s).air_forecast[c].qlty),3)]))),128))])])],2)):T("",!0)]}),_:1},8,["error-msg"]))}}),re=D(Z,[["__scopeId","data-v-bea230de"]]);export{re as default};
