import{E as y}from"./el-popper-Dt-3Z1Eb.js";import{d as S,P as I,W,r as u,c as C,a as k,o as r,b as D,w as o,e,n as L,f as p,t as a,g as c,u as m,h as N,i as V,p as B,j as T}from"./index-JX5HRqIc.js";import{W as h,u as f,D as v,a as q}from"./WeatherApi-B0aeF-Ox.js";import{L as E,_ as A}from"./_plugin-vue_export-helper-CmphopXw.js";const l=i=>(B("data-v-bb3b3bf0"),i=i(),T(),i),j={key:0},F={key:1},O={class:"flex flex-col gap-3 p-2"},P={class:"flex items-baseline gap-1"},z={class:"text-4xl"},H=l(()=>e("span",null,"℃",-1)),M=["src"],U={class:"flex gap-3"},$={class:"flex gap-1 items-center"},G={class:"current-basic flex gap-2 justify-evenly text-sm"},J={class:"current-basic-item windScale flex flex-col items-center"},K=l(()=>e("div",{class:"text-lg"},[e("i",{class:"qi-2208"})],-1)),Q={class:"current-basic-item windSpeed flex flex-col items-center"},R=l(()=>e("div",{class:"text-lg"},[e("i",{class:"qi-1018"})],-1)),X={class:"current-basic-item windScale flex flex-col items-center"},Y=l(()=>e("div",{class:"text-lg"},[e("i",{class:"qi-1702"})],-1)),Z={class:"current-basic-item humidity flex flex-col items-center"},ee=l(()=>e("div",{class:"text-lg"},[e("i",{class:"qi-1036"})],-1)),te=S({__name:"WeatherWidgetView",setup(i){I(W,{onDataLoaded(){_()}});const n=u(""),s=u(),g=C(()=>{var t;return h.getBackgroundClass(Number.parseInt(((t=s.value)==null?void 0:t.icon)??"100"))}),x=f("locationId",v.id),b=f("selectLocation",v);function _(){h.getHourly(x.value).then(t=>{t.code==0?s.value=t.data.hourly[0]:n.value=t.message}).catch(t=>{t.message&&(n.value=t.message)})}return q(()=>{_()},60*60*1e3),(t,se)=>{const d=y,w=k("widget-wrapper");return r(),D(w,null,{default:o(()=>[e("div",{class:L(["root theme--light",{[g.value]:!0}])},[n.value?(r(),p("div",j,a(n.value),1)):s.value?(r(),p("div",F,[e("div",O,[e("div",P,[e("div",z,a(s.value.temp),1),H,e("img",{style:{position:"absolute",right:"24px",top:"24px"},width:"32px",src:`/weather/image/${s.value.icon}.png`},null,8,M)]),e("div",U,[e("span",$,[c(m(E)),N(a(m(b).name),1)])]),e("div",G,[c(d,{content:"风力等级"},{default:o(()=>[e("div",J,[K,e("p",null,a(s.value.windScale),1)])]),_:1}),c(d,{content:"风速"},{default:o(()=>[e("div",Q,[R,e("p",null,a(s.value.windSpeed),1)])]),_:1}),c(d,{content:"风向"},{default:o(()=>[e("div",X,[Y,e("p",null,a(s.value.windDir),1)])]),_:1}),c(d,{content:"湿度"},{default:o(()=>[e("div",Z,[ee,e("p",null,a(s.value.humidity),1)])]),_:1})])])])):V("",!0)],2)]),_:1})}}}),ie=A(te,[["__scopeId","data-v-bb3b3bf0"]]);export{ie as default};
