import{d as D,P as I,r as c,c as C,a as L,o as d,b as k,w as N,f as S,e,t as a,h as _,g as V,u as p,n as b,i as B,W as M,p as j,j as T}from"./index-JX5HRqIc.js";import{W as m,u as h,D as f,a as v}from"./WeatherApi-B0aeF-Ox.js";import{d as x}from"./dayjs.min-CxgbEYMO.js";import{L as Y,_ as A}from"./_plugin-vue_export-helper-CmphopXw.js";const l=o=>(j("data-v-e40508c8"),o=o(),T(),o),H={class:"flex p-2"},P={class:"flex items-center"},E=["src"],F={class:"current-live__item"},O={class:"text-2xl"},z={class:"current-time ml-auto text-right leading-6"},Q=l(()=>e("br",null,null,-1)),U={class:"current-basic flex justify-around justify-center items-center"},$={class:"flex flex-col items-center"},q={class:"flex flex-col items-center"},G=l(()=>e("p",null,"相对湿度",-1)),J={class:"flex flex-col items-center"},K=l(()=>e("p",null,"降水量",-1)),R={class:"flex flex-col items-center"},X=l(()=>e("p",null,"大气压",-1)),Z=D({__name:"WeatherMediumWidgetView",setup(o){I(M,{onDataLoaded(){i()}});const n=c(""),t=c(),g=C(()=>{var s;return m.getBackgroundClass(Number.parseInt(((s=t.value)==null?void 0:s.icon)??"100"))}),w=h("locationId",f.id),W=h("selectLocation",f);function i(){m.getHourly(w.value).then(s=>{s.code==0?t.value=s.data.hourly[0]:n.value=s.message}).catch(s=>{s.message&&(n.value=s.message)})}v(()=>{i()},60*60*1e3);const r=c(x());return v(()=>{r.value=x()},60*1e3),(s,ee)=>{const y=L("widget-wrapper");return d(),k(y,null,{default:N(()=>{var u;return[t.value?(d(),S("div",{key:0,class:b(["flex flex-col root theme--light",{[g.value]:!0}])},[e("div",H,[e("div",P,[e("img",{width:"64px",src:`/weather/image/${(u=t.value)==null?void 0:u.icon}.png`,alt:"QWeather"},null,8,E),e("div",F,[e("p",O,a(t.value.temp)+"° ",1),e("p",null,a(t.value.text),1)])]),e("p",z,[_(a(r.value.format("YYYY-MM-DD HH:mm"))+" ",1),Q,e("span",null,[V(p(Y)),_(a(p(W).name),1)])])]),e("div",U,[e("div",$,[e("p",null,a(t.value.windScale)+"级 ",1),e("p",null,a(t.value.windDir),1)]),e("div",q,[e("p",null,a(t.value.humidity)+"%",1),G]),e("div",J,[e("p",null,a(t.value.precip),1),K]),e("div",R,[e("p",null,a(t.value.pressure)+"hPa",1),X])])],2)):B("",!0)]}),_:1})}}}),le=A(Z,[["__scopeId","data-v-e40508c8"]]);export{le as default};
